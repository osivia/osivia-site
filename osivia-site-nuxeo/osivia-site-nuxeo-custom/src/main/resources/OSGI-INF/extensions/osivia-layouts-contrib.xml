<?xml version="1.0"?>
<component name="org.osivia.nuxeo.forms.layouts">

	<require>org.nuxeo.ecm.platform.forms.layout.WebLayoutManager</require>
    <require>fr.toutatice.ecm.platform.web.widgets</require>

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="layouts">

		<layout name="layout@zoom">
			<templates>
				<template mode="create">/layouts/layout_default_template.xhtml
				</template>
				<template mode="edit">/layouts/layout_default_template.xhtml
				</template>
				<template mode="view">/layouts/layout_default_template.xhtml
				</template>
			</templates>
			<rows>
				<row>
					<widget>zoom_image</widget>
				</row>
				<row>
					<widget>zoom_path</widget>
				</row>
				<row>
					<widget>zoom_color</widget>
				</row>
				<row>
					<widget>zoom_style</widget>
				</row>
			</rows>
		</layout>

	</extension>

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="widgets">

		<widget name="zoom_color" type="text">
			<labels>
				<label mode="any">Couleur</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>zoom:color</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="zoom_style" type="text">
			<labels>
				<label mode="any">Style</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>zoom:style</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="zoom_path" type="text">
			<labels>
				<label mode="any">Chemin du document</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>zoom:path</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="zoom_image" type="template">
			<labels>
				<label mode="any">Visuel</label>
			</labels>
			<fields>
				<field>zoom:image</field>
				<field>zoom:image/filename</field>
			</fields>
			<properties mode="any">
				<property name="template">
					/widgets/toutatice_image_widget.xhtml
				</property>
			</properties>
		</widget>

		<widget name="vignette" type="template">
			<labels>
				<label mode="any">Visuel</label>
			</labels>
			<fields>
				<field>ttc:vignette</field>
				<field>ttc:vignette/filename</field>
			</fields>
			<properties mode="any">
				<property name="template">
					/widgets/toutatice_image_widget.xhtml
				</property>
			</properties>
		</widget>	

	</extension>
	
	<!-- <extension target="org.nuxeo.ecm.platform.actions.ActionService"
		point="actions">

		<action id="summary_zoom" type="widget" order="200">
			<category>SUMMARY_PANEL_LEFT</category>
			<properties>
				<property name="widgetName">summary_current_document_view</property>
			</properties>
			<filter id="isZoom">
				<rule grant="true">
					<type>Zoom</type>
				</rule>
			</filter>
		</action>
		
	</extension>  -->

</component>